odds_nao_fumante <- (117 / 263)
# Razão de chances (Odds Ratio)
odds_ratio <- odds_fumante / odds_nao_fumante
cat("Chances - Fumantes:", odds_fumante. "\n")
# Criando a matriz de dados
tabela <- matrix(c(114, 117, 156, 263), nrow = 2, byrow = TRUE)
colnames(tabela) <- c("Fumante", "Não Fumante")
rownames(tabela) <- c("Câncer", "Sem Câncer")
# Exibir tabela
print(tabela)
# Probabilidade de ter câncer nos grupos
p_fumante <- (114 / 270)
p_nao_fumante <- (117 / 380)
# Risco relativo
risco_relativo <- p_fumante / p_nao_fumante
cat("Risco relativo:", risco_relativo, "\n")
# Chances de câncer em cada grupo
odds_fumante <- (114 / 156)
odds_nao_fumante <- (117 / 263)
# Razão de chances (Odds Ratio)
odds_ratio <- odds_fumante / odds_nao_fumante
cat("Chances - Fumantes:", odds_fumante, "\n")
cat("Chances - Não Fumantes:", odds_nao_fumante, "\n")
cat("Razão de chances (Odds Ratio):", odds_ratio, "\n")
cat("Probabilidade Fumante:", p_fumante, "\n")
cat("Probabilidade Não Fumante:", p_nao_fumante, "\n")
# Criando a matriz de dados
tabela <- matrix(c(114, 117, 156, 263), nrow = 2, byrow = TRUE)
colnames(tabela) <- c("Fumante", "Não Fumante")
rownames(tabela) <- c("Câncer", "Sem Câncer")
# Exibir tabela
print(tabela)
# Probabilidade de ter câncer nos grupos
p_fumante <- (114 / 270)
p_nao_fumante <- (117 / 380)
# Risco relativo
risco_relativo <- p_fumante / p_nao_fumante
cat("Risco relativo:", risco_relativo, "\n")
# Chances de câncer em cada grupo
odds_fumante <- (114 / 156)
odds_nao_fumante <- (117 / 263)
# Razão de chances (Odds Ratio)
odds_ratio <- odds_fumante / odds_nao_fumante
cat("Chances - Fumantes:", round(odds_fumante, digits = 3), "\n")
cat("Chances - Não Fumantes:", odds_nao_fumante, "\n")
cat("Razão de chances (Odds Ratio):", odds_ratio, "\n")
cat("Probabilidade Fumante:", p_fumante, "\n")
cat("Probabilidade Não Fumante:", p_nao_fumante, "\n")
# Criando a matriz de dados
tabela <- matrix(c(114, 117, 156, 263), nrow = 2, byrow = TRUE)
colnames(tabela) <- c("Fumante", "Não Fumante")
rownames(tabela) <- c("Câncer", "Sem Câncer")
# Exibir tabela
print(tabela)
# Probabilidade de ter câncer nos grupos
p_fumante <- (114 / 270)
p_nao_fumante <- (117 / 380)
# Risco relativo
risco_relativo <- p_fumante / p_nao_fumante
cat("Risco relativo:", risco_relativo, "\n")
# Chances de câncer em cada grupo
odds_fumante <- (114 / 156)
odds_nao_fumante <- (117 / 263)
# Razão de chances (Odds Ratio)
odds_ratio <- odds_fumante / odds_nao_fumante
cat("Chances - Fumantes:", round(odds_fumante, digits = 3), "\n")
cat("Chances - Não Fumantes:", round(odds_nao_fumante, digits = 3), "\n")
cat("Razão de chances (Odds Ratio):", round(odds_ratio, digits = 3), "\n")
cat("Probabilidade Fumante:", round(p_fumante, digits = 3), "\n")
cat("Probabilidade Não Fumante:", round(p_nao_fumante, digits = 3), "\n")
# Criar tabela de contingência
dados <- matrix(c(35,55,33,27,39,11), nrow = 2)
print(dados)
n <- 200
x_2 <- chisq.test(dados)
chi2 <- x_2$statistic
C <- sqrt(chi2/(chi2+n))
t <- min(2, 2)
Cstar <- C / sqrt((t-1)/t)
V <- sqrt(chi2/(n*(t-1)))
#round(C, digits = 3)
round(C, digits = 3)
round(Cstar, digits = 3)
round(V, digits = 3)
x <- c(18.2,6.9,18.8,10.4,18.1,9.9,13.5,17.4,10.2,9.4,17.4,18.9)
y <- c(-28.5,-12.8,-30.6,-20.2,-30.8,-10.2,-20.8,-29.7,-16.8,-10.5,-40.3,-41.9)
pers <- cor(x, y, method = c("pearson"))
spe <- cor(x, y, method = c("spearman"))
round(pers, digits = 3)
round(spe, digits = 3)
x <- c(18.2,6.9,18.8,10.4,18.1,9.9,13.5,17.4,10.2,9.4,17.4,18.9)
y <- c(-28.5,-12.8,-30.6,-20.2,-30.8,-10.2,-20.8,-29.7,-16.8,-10.5,-40.3,-41.9)
pers <- cor(x, y, method = c("pearson"))
spe <- cor(x, y, method = c("spearman"))
round(pers, digits = 3)
round(spe, digits = 3)
# Criando a matriz de dados
tabela <- matrix(c(114, 117, 156, 263), nrow = 2, byrow = TRUE)
colnames(tabela) <- c("Fumante", "Não Fumante")
rownames(tabela) <- c("Câncer", "Sem Câncer")
# Exibir tabela
print(tabela)
# Probabilidade de ter câncer nos grupos
p_fumante <- (114 / 270)
p_nao_fumante <- (117 / 380)
# Risco relativo
risco_relativo <- p_fumante / p_nao_fumante
cat("Risco relativo:", risco_relativo, "\n")
# Chances de câncer em cada grupo
odds_fumante <- (114 / 156)
odds_nao_fumante <- (117 / 263)
# Razão de chances (Odds Ratio)
odds_ratio <- odds_fumante / odds_nao_fumante
cat("Chances - Fumantes:", round(odds_fumante, digits = 3), "\n")
cat("Chances - Não Fumantes:", round(odds_nao_fumante, digits = 3), "\n")
cat("Razão de chances (Odds Ratio):", round(odds_ratio, digits = 3), "\n")
cat("Probabilidade Fumante:", round(p_fumante, digits = 3), "\n")
cat("Probabilidade Não Fumante:", round(p_nao_fumante, digits = 3), "\n")
k <- 8  # Elementos escolhidos
# Função para calcular combinação
combinacao <- function(n, k) {
return(choose(n, k))
}
# Exemplo de uso
n <- 100  # Total de elementos
k <- 8  # Elementos escolhidos
resultado <- combinacao(n, k)
cat("A combinação de", n, "tomados", k, "a cada vez é:", resultado, "\n")
# Função para calcular combinação
combinacao <- function(n, k) {
return(choose(n, k))
}
# Exemplo de uso
#n <- 100  # Total de elementos
#k <- 8  # Elementos escolhidos
resultado <- combinacao(100, 8)
cat("A combinação de", n, "tomados", k, "a cada vez é:", resultado, "\n")
# Função para calcular combinação
combinacao <- function(n, k) {
return(choose(n, k))
}
# Exemplo de uso
#n <- 100  # Total de elementos
#k <- 8  # Elementos escolhidos
total <- combinacao(100, 8)
sem_NY <- combinacao(98,8)
resp1 <- (total - sem_NY)
com1 <- combinacao(98, 6)
com2<- combinacao(98,7)
rep2 <- (com1+com2)
print("A divizão das respostas é:", (resp1/rep2))
# Função para calcular combinação
combinacao <- function(n, k) {
return(choose(n, k))
}
# Exemplo de uso
#n <- 100  # Total de elementos
#k <- 8  # Elementos escolhidos
total <- combinacao(100, 8)
sem_NY <- combinacao(98,8)
resp1 <- (total - sem_NY)
com1 <- combinacao(98, 6)
com2<- combinacao(98,7)
resp2 <- (com1+com2)
div <- resp1/resp2
print(div)
# Função para calcular combinação
combinacao <- function(n, k) {
return(choose(n, k))
}
# Exemplo de uso
#n <- 100  # Total de elementos
#k <- 8  # Elementos escolhidos
total <- combinacao(100, 8)
sem_NY <- combinacao(98,8)
resp1 <- (total - sem_NY)
com1 <- combinacao(98, 6)
com2<- combinacao(98,7)
resp2 <- (com1+(2 * com2))
div <- resp1/resp2
print(div)
dados <- read.csv("Base de Dados")
dados <- read.csv("Base de Dados.csv")
dados <- read.csv("base_de_dados.csv")
version
install.packages('installr')
library(installr)
updateR()
warnings()
clear
ggplot
tidyverse
library('ggplort')
library(tidyverse[])
dados <- read.csv("base_de_dados.csv")
setwd("C:\Users\JoaoS\Documents\lista 8")
read.csv("base_de_dados")
install.packages("readxl")
library(readxl)
dados <- read_xls("base_de_dados")
library(readxl)
dados <- read_xls("base_de_dados.xlsx")
# Importar a primeira planilha
dados <- read_excel("C:\Users\JoaoS\Documents\lista 8\base_de_dados.xlsx")
# Importar a primeira planilha
dados <- read_excel("C:/Users/JoaoS/Documents/lista 8/base_de_dados.xlsx")
# Ver os dados
View(dados)
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
View(base_de_dados)
library(dplyr)
require(dplyr)
require(tidyverse)
install.packages(tidyverse)
install.packages("tidyverse[")
install.packages("tidyverse")
require(tidyverse)
require(dplyr)
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
library(dplyr)
variaveis <- Indice %>%
select(id, Municipio, Pontuação, UF, população2019, contains("ODS"))
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
library(dplyr)
variaveis <- base_de_dados %>%
select(id, Municipio, Pontuação, UF, população2019, contains("ODS"))
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
library(dplyr)
variaveis <- base_de_dados %>%
select(id, Munícipio, Pontuação, UF, população2019, contains("ODS"))
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
library(dplyr)
variaveis <- base_de_dados %>%
select(id, Município, Pontuação, UF, população2019, contains("ODS"))
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
library(dplyr)
variaveis <- base_de_dados %>%
select(id, Município, Pontuação, UF, população_2019, contains("ODS"))
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
library(dplyr)
variaveis <- base_de_dados %>%
select(id, Município, Pontuação, UF, População_2019, contains("ODS"))
view(variaveis)
View(dados)
variaveis_sem_regional <- variaveis %>%
select(-contains("regional"))
view(variaveis_sem_regional)
#utilizando a função filter
dados_mg <- variaveis_sem_regional %>%
filter(UF == "Minas Gerais")
view(dados_mg)
#utilizando a função filter
dados_mg <- filter(data = variaveis_sem_regional,   UF == "Minas Gerais")
#Código executado pelo 'import dataset'
library(readxl)
base_de_dados <- read_excel("lista 8/base_de_dados.xlsx",
sheet = "Indice")
#Selecionando as variáveis pedidas na questão
library(dplyr)
variaveis <- base_de_dados %>%
select(id, Município, Pontuação, UF, População_2019, contains("ODS"))
#Filtrando o banco com "-contains()" ,
#"-" significa remover o elemento passado no argumento
variaveis_sem_regional <- variaveis %>%
select(-contains("regional"))
#utilizando a função filter
dados_mg <- filter(data = variaveis_sem_regional, UF == "Minas Gerais")
view(variaveis_sem_regional)
#utilizando a função filter
dados_mg <- filter(data = variaveis_sem_regional, UF == "Minas Gerais")
#utilizando a função filter
dados_mg <- filter(data = variaveis_sem_regional, UF = "Minas Gerais")
#utilizando a função filter
dados_mg <- filter(data = variaveis_sem_regional, UF == "MG")
#utilizando a função filter
dados_mg <- filter(variaveis_sem_regional, UF == "MG")
view(dados_mg)
# Questão 04
#acrescentando a nova coluna -- utilizando a função mutate
nova_coluna <- mutate(variaveis, soma_ODS = (Pontuação ODS1 + Pontuação ODS2 + Pontuação ODS3))
# Questão 04
#acrescentando a nova coluna -- utilizando a função mutate
nova_coluna <- mutate(variaveis, soma_ODS = Pontuação ODS1 + Pontuação ODS2 + Pontuação ODS3)
# Questão 04
#acrescentando a nova coluna -- utilizando a função mutate
nova_coluna <- mutate(variaveis, soma_ODS = Pontuação_ODS1 + Pontuação_ODS2 + Pontuação_ODS3)
variaveis %>%
mutate(variaveis, soma_ODS = Pontuação ODS1 + Pontuação ODS2 + Pontuação ODS3)
# Questão 04
#acrescentando a nova coluna -- utilizando a função mutate
variaveis %>%
mutate(variaveis, soma_ODS = Pontuação ODS1 + Pontuação ODS2 + Pontuação ODS3)
# Questão 04
#acrescentando a nova coluna -- utilizando a função mutate
variaveis %>%
mutate(variaveis, soma_ODS = 'Pontuação ODS1' + 'Pontuação ODS2' + 'Pontuação ODS3')
#Renomeando as colunas para evitar um erro:
variaveis %>%
mutate(soma_ODS = `Pontuação ODS1` + `Pontuação ODS2` + `Pontuação ODS3`)
view(variaveis$soma_ODS)
#Renomeando as colunas para evitar um erro:
dados_mg %>%
mutate(soma_ODS = `Pontuação ODS1` + `Pontuação ODS2` + `Pontuação ODS3`)
#Renomeando as colunas para evitar um erro:
dados_mg %>%
mutate(soma_ODS = Pontuação ODS1 + Pontuação ODS2 + Pontuação ODS3)
#Renomeando as colunas para evitar um erro:
dados_mg %>%
mutate(soma_ODS = "Pontuação ODS1" + "Pontuação ODS2" + "Pontuação ODS3")
#Renomeando as colunas para evitar um erro:
dados_mg %>%
mutate(soma_ODS = 'Pontuação ODS1' + 'Pontuação ODS2' + 'Pontuação ODS3')
#Renomeando as colunas para evitar um erro:
dados_mg %>%
mutate(soma_ODS = `Pontuação ODS1` + `Pontuação ODS2` + `Pontuação ODS3`)
view(dados_mg)
#Renomeando as colunas para evitar um erro:
variaveis_com_somaods<- variaveis %>%
mutate(soma_ODS = `Pontuação ODS1` + `Pontuação ODS2` + `Pontuação ODS3`)
view(variaveis_com_somaods)
view(dados_mg)
clear
mapa_salario <- mapa_estados %>%
left_join(salario_estado, by = c("name_state" = "Estado_onde_vive"))
# Análise 3 - Mapa da distribuição dos salários no Brasil
library(geobr)
mapa_estados <- read_state(year = 2020)
#Calculando a média salarial
salario_estado <- bancoBR %>%
group_by(Estado_onde_vive) %>%
summarise(media_salarial = mean(renda_anual_brl, na.rm = TRUE)) %>%
ungroup()
# Análise 1 - salários por nível de experiência -- banco Gringo
ggplot(data = bancoGringo, mapping = aes(x = nivel_de_experiencia, y = salario_usdt)) +
geom_boxplot(fill = "darkgreen") +
labs(title = "Distribuição de salários por nível de experiência no exterior",
x = "Níveis de experiência",
y = "Salário anual ($)") +
theme_bw()
# Carregando os dados
bancoBR23 <- read.csv("stateofdata_2023.csv")
getwd()
setwd("C:/Users/JoaoS/Documents/trabalhofinal_cd")
# Carregando os dados
bancoBR23 <- read.csv("stateofdata_2023.csv")
bancoBR24 <-read.csv("stateofdata_2024.csv")
bancoGringo <- read.csv("data_science_salaries.csv")
# Carregando os pacotes necessários
library(dplyr)
library(stringr)
# Excluindo informações não relevantes do banco estrangeiro
bancoGringo <- bancoGringo %>%
select(-salary, -salary_currency)
# Renomeando as colunas do banco de dados estrangeiro
names(bancoGringo) <- c("cargo", "nivel_de_experiencia", "tipo_de_contrato", "modelo_de_trabalho",
"data_da_resposta", "local_de_residencia", "salario_usdt",
"local_da_empresa", "tamanho_da_empresa")
# Filtrando o banco de dados estrangeiro somente para datas compatíveis com os demais bancos
bancoGringo <- bancoGringo %>% filter(data_da_resposta == 2023 | data_da_resposta == 2024)
# Adicionando uma coluna com a data da resposta nos dois bancos de dados brasileiros
bancoBR23$Data_da_resposta <- 2023
bancoBR24$Data_da_resposta <- 2024
#Adiconando uma coluna com o local de residência e da empresa (para essa análise, em termos de países)
bancoBR23$local_da_empresa <- "Brasil"
bancoBR23$local_de_residencia <- "Brasil"
bancoBR24$local_da_empresa <- "Brasil"
bancoBR24$local_de_residencia <- "Brasil"
# Criando novos bancos de dados com somente os dados de interesse (para os bancos nacionais)
bancoBR23 <- bancoBR23 %>%
select(, c(23, 32,30,37,36,35, 55,400, 401, 402))
bancoBR24 <- bancoBR24 %>%
select(, c(29, 36, 39, 34, 40, 41, 48, 404, 405, 406))
# Renomeando as colunas do banco de dados BR de 2023
names(bancoBR23)<- c("Estado_onde_vive", "tamanho_da_empresa", "tipo_de_contrato", "salario_brl",
"nivel_de_experiencia", "cargo","trabalho_remoto_flexivel", "data_da_resposta",
"local_da_empresa", "local_de_residencia")
# Renomeando as colunas do banco de dados BR de 2024
names(bancoBR24)<- c("Estado_onde_vive","tamanho_da_empresa", "cargo", "tipo_de_contrato", "nivel_de_experiencia",
"salario_brl", "trabalho_remoto_flexivel", "data_da_resposta", "local_da_empresa",
"local_de_residencia")
# Convertendo os salários:
#Criando objetos para armazenar os valores
media_salarial23 <- bancoBR23 %>%
select(4)
media_salarial24 <- bancoBR24 %>%
select(6)
# Pegando o ponto médio de cada intervalo
media_salarial23 <- media_salarial23 %>%
mutate(salario_brl = case_when(
str_detect(salario_brl, "Menos de") ~ 1000 / 2,
str_detect(salario_brl, "de R\\$") ~ {
numeros <- str_extract_all(salario_brl, "\\d{1,3}(\\.\\d{3})*")
valores <- lapply(numeros, function(x) as.numeric(gsub("\\.", "", x)))
sapply(valores, function(x) x[1] + (x[2] - x[1]) / 2)
},
TRUE ~ NA_real_
))
media_salarial24 <- media_salarial24 %>%
mutate(salario_brl = case_when(
str_detect(salario_brl, "Menos de") ~ 1000 / 2,
str_detect(salario_brl, "de R\\$") ~ {
numeros <- str_extract_all(salario_brl, "\\d{1,3}(\\.\\d{3})*")
valores <- lapply(numeros, function(x) as.numeric(gsub("\\.", "", x)))
sapply(valores, function(x) x[1] + (x[2] - x[1]) / 2)
},
TRUE ~ NA_real_
))
#Fazendo a renda anual
media_salarial23 <- media_salarial23 %>%
mutate(renda_anual_brl = salario_brl * 12) %>%
select(-salario_brl)
media_salarial24 <- media_salarial24 %>%
mutate(renda_anual_brl = salario_brl * 12) %>%
select(-salario_brl)
#Convertendo esses valores baseado na média da cotação do dólar nos respectivos anos
media_salarial23 <- media_salarial23 %>%
mutate(renda_anual_usd = renda_anual_brl / 4.99)
media_salarial24 <- media_salarial24 %>%
mutate(renda_anual_usd = renda_anual_brl / 5.57)
#Unindo os dois bancos de dados brasileiros
bancoBR <- rbind(bancoBR23, bancoBR24)
# Adicionando os valores de salários
salarios <- rbind(media_salarial23, media_salarial24)
bancoBR <- cbind(bancoBR, salarios)
# Tratando valores vazios
bancoBR[bancoBR == ''] <- NA
# Cálculo do salário médio por estado
salario_estado <- bancoBR %>%
group_by(Estado_onde_vive) %>%
summarise(media_salarial = mean(renda_anual_brl, na.rm = TRUE))
# Formatando os valores para Estado
bancoBR <- bancoBR %>%
mutate(Estado_onde_vive = str_trim(str_remove(Estado_onde_vive, "\\s*\\(.*\\)")))
#Carregando pacotes necessários
library(ggplot2)
# Importando os bancos de dados do módulo de normalização dos bancos
source("normalizacao_bancodedados.R")
# Análise 1 - salários por nível de experiência -- banco Gringo
ggplot(data = bancoGringo, mapping = aes(x = nivel_de_experiencia, y = salario_usdt)) +
geom_boxplot(fill = "darkgreen") +
labs(title = "Distribuição de salários por nível de experiência no exterior",
x = "Níveis de experiência",
y = "Salário anual ($)") +
theme_bw()
# Análise 2 - salários por nível de experiência -- banco BR
ggplot(data = bancoBR, mapping = aes(x = nivel_de_experiencia, y = renda_anual_usd))+
geom_boxplot(fill = "blue") +
labs(title = "Distribuição de salários por nível de experiência no Brasil",
x = "Níveis de experiências",
y = "Salário anual ($)") +
theme_bw()
# Análise 3 - Mapa da distribuição dos salários no Brasil
library(geobr)
mapa_estados <- read_state(year = 2020)
#Calculando a média salarial
salario_estado <- bancoBR %>%
group_by(Estado_onde_vive) %>%
summarise(media_salarial = mean(renda_anual_brl, na.rm = TRUE)) %>%
ungroup()
# Verificando se os nomes batem antes de juntar
mapa_estado_salario <- mapa_estados %>%
left_join(salario_estado, by = c("name_state" = "Estado_onde_vive"))
# Fazendo o join com base nos nomes dos estados
mapa_salario <- mapa_estados %>%
left_join(salario_estado, by = c("name_state" = "Estado_onde_vive"))
ggplot(data = mapa_salario) +
geom_sf(aes(fill = media_salarial), color = "grey") +
scale_fill_viridis_c(option = "plasma", na.value = "grey90", name = "Salário médio (BRL)") +
theme_minimal() +
labs(title = "Mapa de calor do salário médio por estado no Brasil") +
theme(axis.text = element_blank(),
axis.ticks = element_blank())
# Fazendo o join com base nos nomes dos estados
mapa_salario <- mapa_estados %>%
left_join(salario_estado, by = c("name_state" = "Estado_onde_vive"))
ggplot(data = mapa_salario) +
geom_sf(aes(fill = media_salarial), color = "grey") +
scale_fill_viridis_c(option = "turbo", na.value = "grey90", name = "Salário médio (BRL)") +
theme_minimal() +
labs(title = "Mapa de calor do salário médio por estado no Brasil") +
theme(axis.text = element_blank(),
axis.ticks = element_blank())
# Fazendo o join com base nos nomes dos estados
mapa_salario <- mapa_estados %>%
left_join(salario_estado, by = c("name_state" = "Estado_onde_vive"))
ggplot(data = mapa_salario) +
geom_sf(aes(fill = media_salarial), color = "grey") +
scale_fill_viridis_c(option = "plasma", na.value = "grey90", name = "Salário médio (BRL)") +
theme_minimal() +
labs(title = "Mapa de calor do salário médio por estado no Brasil") +
theme(axis.text = element_blank(),
axis.ticks = element_blank())
